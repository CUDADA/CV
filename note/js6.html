<!doctype html>
<html>
<head>
<meta charset='UTF-8'><meta name='viewport' content='width=device-width initial-scale=1'>
<title></title></head>
<body><h2>JavaScript 面向对象编程</h2>
<h3>面向对象介绍</h3>
<h4>什么是对象</h4>
<blockquote><p>Everything is object （万物皆对象）</p>
</blockquote>
<p>对象到底是什么，我们可以从两次层次来理解。</p>
<p><strong>(1) 对象是单个事物的抽象。</strong></p>
<p>一本书、一辆汽车、一个人都可以是对象，一个数据库、一张网页、一个与远程服务器的连接也可以是对象。当实物被抽象成对象，实物之间的关系就变成了对象之间的关系，从而就可以模拟现实情况，针对对象进行编程。</p>
<p><strong>(2) 对象是一个容器，封装了属性（property）和方法（method）。</strong></p>
<p>属性是对象的状态，方法是对象的行为（完成某种任务）。比如，我们可以把动物抽象为animal对象，使用“属性”记录具体是那一种动物，使用“方法”表示动物的某种行为（奔跑、捕猎、休息等等）。</p>
<p>在实际开发中，对象是一个抽象的概念，可以将其简单理解为：<strong>数据集或功能集</strong>。</p>
<p>ECMAScript-262 把对象定义为：<strong>无序属性的集合，其属性可以包含基本值、对象或者函数</strong>。
严格来讲，这就相当于说对象是一组没有特定顺序的值。对象的每个属性或方法都有一个名字，而每个名字都
映射到一个值。</p>
<p class="tip">
  提示：每个对象都是基于一个引用类型创建的，这些类型可以是系统内置的原生类型，也可以是开发人员自定义的类型。
</p>
<h4>什么是面向对象</h4>
<blockquote><p>面向对象不是新的东西，它只是过程式代码的一种高度封装，目的在于提高代码的开发效率和可维护性。</p>
</blockquote>
<p>面向对象编程 —— Object Oriented Programming，简称 OOP ，是一种编程开发思想。
它将真实世界各种复杂的关系，抽象为一个个对象，然后由对象之间的分工与合作，完成对真实世界的模拟。</p>
<p>在面向对象程序开发思想中，每一个对象都是功能中心，具有明确分工，可以完成接受信息、处理数据、发出信息等任务。
因此，面向对象编程具有灵活、代码可复用、高度模块化等特点，容易维护和开发，比起由一系列函数或指令组成的传统的过程式编程（procedural programming），更适合多人合作的大型软件项目。</p>
<p>面向对象与面向过程：</p>
<ul>
<li>面向过程就是亲力亲为，事无巨细，面面俱到，步步紧跟，有条不紊</li>
<li>面向对象就是找一个对象，指挥得结果</li>
<li>面向对象将执行者转变成指挥者</li>
<li>面向对象不是面向过程的替代，而是面向过程的封装</li>

</ul>
<p>面向对象的特性：</p>
<ul>
<li>封装性</li>
<li>继承性</li>
<li>[多态性]</li>

</ul>
<p>扩展阅读：</p>
<ul>
<li><a href='https://zh.wikipedia.org/wiki/%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E7%A8%8B%E5%BA%8F%E8%AE%BE%E8%AE%A1'>维基百科 - 面向对象程序设计</a></li>
<li><a href='https://www.zhihu.com/question/19854505'>知乎：如何用一句话说明什么是面向对象思想？</a></li>
<li><a href='https://www.zhihu.com/question/31021366'>知乎：什么是面向对象编程思想？</a></li>

</ul>
<h4>程序中面向对象的基本体现</h4>
<p>在 JavaScript 中，所有数据类型都可以视为对象，当然也可以自定义对象。
自定义的对象数据类型就是面向对象中的类（ Class ）的概念。</p>
<p>我们以一个例子来说明面向过程和面向对象在程序流程上的不同之处。</p>
<p>假设我们要处理学生的成绩表，为了表示一个学生的成绩，面向过程的程序可以用一个对象表示：</p>
<pre><code class='language-javascript' lang='javascript'>var std1 = { name: &#39;Michael&#39;, score: 98 }
var std2 = { name: &#39;Bob&#39;, score: 81 }
</code></pre>
<p>而处理学生成绩可以通过函数实现，比如打印学生的成绩：</p>
<pre><code class='language-javascript' lang='javascript'>function printScore (student) {
  console.log(&#39;姓名：&#39; + student.name + &#39;  &#39; + &#39;成绩：&#39; + student.score)
}
</code></pre>
<p>如果采用面向对象的程序设计思想，我们首选思考的不是程序的执行流程，
而是 <code>Student</code> 这种数据类型应该被视为一个对象，这个对象拥有 <code>name</code> 和 <code>score</code> 这两个属性（Property）。
如果要打印一个学生的成绩，首先必须创建出这个学生对应的对象，然后，给对象发一个 <code>printScore</code> 消息，让对象自己把自己的数据打印出来。</p>
<p>抽象数据行为模板（Class）：</p>
<pre><code class='language-javascript' lang='javascript'>function Student (name, score) {
  this.name = name
  this.score = score
}

Student.prototype.printScore = function () {
  console.log(&#39;姓名：&#39; + this.name + &#39;  &#39; + &#39;成绩：&#39; + this.score)
}
</code></pre>
<p>根据模板创建具体实例对象（Instance）：</p>
<pre><code class='language-javascript' lang='javascript'>var std1 = new Student(&#39;Michael&#39;, 98)
var std2 = new Student(&#39;Bob&#39;, 81)
</code></pre>
<p>实例对象具有自己的具体行为（给对象发消息）：</p>
<pre><code class='language-javascript' lang='javascript'>std1.printScore() // =&gt; 姓名：Michael  成绩：98
std2.printScore() // =&gt; 姓名：Bob  成绩 81
</code></pre>
<p>面向对象的设计思想是从自然界中来的，因为在自然界中，类（Class）和实例（Instance）的概念是很自然的。
Class 是一种抽象概念，比如我们定义的 Class——Student ，是指学生这个概念，
而实例（Instance）则是一个个具体的 Student ，比如， Michael 和 Bob 是两个具体的 Student 。</p>
<p>所以，面向对象的设计思想是：</p>
<ul>
<li>抽象出 Class</li>
<li>根据 Class 创建 Instance</li>
<li>指挥 Instance 得结果</li>

</ul>
<p>面向对象的抽象程度又比函数要高，因为一个 Class 既包含数据，又包含操作数据的方法。</p>
<h3>创建对象</h3>
<h4>简单方式</h4>
<p>我们可以直接通过 <code>new Object()</code> 创建：</p>
<pre><code class='language-javascript' lang='javascript'>var person = new Object()
person.name = &#39;Jack&#39;
person.age = 18

person.sayName = function () {
  console.log(this.name)
}
</code></pre>
<p>每次创建通过 <code>new Object()</code> 比较麻烦，所以可以通过它的简写形式对象字面量来创建：</p>
<pre><code class='language-javascript' lang='javascript'>var person = {
  name: &#39;Jack&#39;,
  age: 18,
  sayName: function () {
    console.log(this.name)
  }
}
</code></pre>
<p>对于上面的写法固然没有问题，但是假如我们要生成两个 <code>person</code> 实例对象呢？</p>
<pre><code class='language-javascript' lang='javascript'>var person1 = {
  name: &#39;Jack&#39;,
  age: 18,
  sayName: function () {
    console.log(this.name)
  }
}

var person2 = {
  name: &#39;Mike&#39;,
  age: 16,
  sayName: function () {
    console.log(this.name)
  }
}
</code></pre>
<p>通过上面的代码我们不难看出，这样写的代码太过冗余，重复性太高。</p>
<h4>简单方式的改进：工厂函数</h4>
<p>我们可以写一个函数，解决代码重复问题：</p>
<pre><code class='language-javascript' lang='javascript'>function createPerson (name, age) {
  return {
    name: name,
    age: age,
    sayName: function () {
      console.log(this.name)
    }
  }
}
</code></pre>
<p>然后生成实例对象：</p>
<pre><code class='language-javascript' lang='javascript'>var p1 = createPerson(&#39;Jack&#39;, 18)
var p2 = createPerson(&#39;Mike&#39;, 18)
</code></pre>
<p>这样封装确实爽多了，通过工厂模式我们解决了创建多个相似对象代码冗余的问题，
但却没有解决对象识别的问题（即怎样知道一个对象的类型）。</p>
</body>
</html>